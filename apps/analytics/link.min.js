//Ramity Analytics
//Lewis (DB2) Brown
function cl(e){if(opt["debug"]===true){console.log("[LOG]["+((new Date).getTime()-lt)+"ms] - "+e)}}function add(e){window.sd+=e}function ots(e){var t="";for(var n in e){if(e.hasOwnProperty(n)){t+=n+"::"+e[n]+"\n"}}return t}function explode(e,n,r){t=e.split(n);t=t[1].split(r);return t[0]}function search(e,t){if(e.indexOf(t)!=-1)return true;else return false}window.lt=(new Date).getTime();window.onload=function(){window.sd="";try{a=new XMLHttpRequest}catch(e){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){cl("Your browser does not support ajax");a=false}}}if(typeof opt=="undefined"){opt={debug:false,debugDisplay:false}}cl("[UTD][1/6/15][16:32:12PM]");if(opt["UID"]===parseInt(opt["UID"],10)){add("UID="+opt["UID"]+"&URL="+window.location.href);if(navigator){add("&navigator=true&navigatorAppCodeName="+navigator.appCodeName+"&navigatorAppName="+navigator.appName+"&navigatorAppVersion="+navigator.appVersion+"&navigatorCookieEnabled="+navigator.cookieEnabled+"&navigatorGeolocation="+navigator.geolocation+"&navigatorOnLine="+navigator.onLine+"&navigatorPlatform="+navigator.platform+"&navigatorProduct="+navigator.product+"&navigatorUserAgent="+navigator.userAgent);if(navigator.plugins.length>0){string="";for(w=0;w<navigator.plugins.length;w++){string+="[plugin]["+w+"]";pname=navigator.plugins[w].name;pfname=navigator.plugins[w].filename;pdescr=navigator.plugins[w].description;for(x=0;x<navigator.plugins[w].length;x++){mimetype=navigator.plugins[w][x];if(mimetype){enabledPlugin=mimetype.enabledPlugin;if(enabledPlugin&&enabledPlugin.name==navigator.plugins[w].name)string+="[enabled]";else string+="[disabled]";string+="[mimeType]"+mimetype.type+"[/mimeType]";string+="[mimeDescription]"+mimetype.description+"[/mimeDescription]";string+="[mimeSuffixes]"+mimetype.suffixes+"[/mimeSuffixes]"}}string+="[/plugin]["+w+"]"}add("&navigatorPlugins="+navigator.plugins.length);add("&navigatorPluginsList="+string)}else{add("&navigatorPlugins=0")}}else add("&navigator=false");if(screen)add("&screen=true&screenAvailHeight="+screen.availHeight+"&screenAvailWidth="+screen.availWidth+"&screenColorDepth="+screen.colorDepth+"&screenHeight="+screen.height+"&screenPixelDepth="+screen.pixelDepth+"&screenWidth="+screen.width);else add("&screen=false");if(location)add("&location=true&locationHash="+location.hash+"&locationHost="+location.host+"&locationHref="+location.href+"&locationOrigin="+location.origin+"&locationPathname="+location.pathname+"&locationPort="+location.port+"&locationProtocol="+location.protocol+"&locationSearch="+location.search);else add("&location=false");if(window.performance){add("&performance=true");add("&memoryJSHeapSizeLimit="+window.performance.memory.jsHeapSizeLimit);add("&memoryUsedJSHeapSize="+window.performance.memory.usedJSHeapSize);add("&memoryTotalJSHeapSize="+window.performance.memory.totalJSHeapSize);add("&navigationRedirectCount="+window.performance.navigation.redirectCount);add("&navigationType="+window.performance.navigation.type);add("&timingLoadEventEnd="+window.performance.timing.loadEventEnd);add("&timingLoadEventStart="+window.performance.timing.loadEventStart);add("&timingDomComplete="+window.performance.timing.domComplete);add("&timingDomContentLoadedEventEnd="+window.performance.timing.domContentLoadedEventEnd);add("&timingDomContentLoadedEventStart="+window.performance.timing.domContentLoadedEventStart);add("&timingDomInteractive="+window.performance.timing.domInteractive);add("&timingDomLoading="+window.performance.timing.domLoading);add("&timingResponseEnd="+window.performance.timing.responseEnd);add("&timingResponseStart="+window.performance.timing.responseStart);add("&timingRequestStart="+window.performance.timing.requestStart);add("&timingSecureConnectionStart="+window.performance.timing.secureConnectionStart);add("&timingConnectEnd="+window.performance.timing.connectEnd);add("&timingConnectStart="+window.performance.timing.connectStart);add("&timingDomainLookupEnd="+window.performance.timing.domainLookupEnd);add("&timingDomainLookupStart="+window.performance.timing.domainLookupStart);add("&timingFetchStart="+window.performance.timing.fetchStart);add("&timingRedirectEnd="+window.performance.timing.redirectEnd);add("&timingRedirectStart="+window.performance.timing.redirectStart);add("&timingUnloadEventEnd="+window.performance.timing.unloadEventEnd);add("&timingUnloadEventStart="+window.performance.timing.unloadEventStart);add("&timingNavigationStart="+window.performance.timing.navigationStart)}else add("&performance=false");if(history){add("&history=true");add("&historyLength="+history.length)}else add("&history=false")}else{cl("UID is not set or is not an integer")}if(a){a.onreadystatechange=function(){if(a.readyState==0)cl("Request not initialized");if(a.readyState==1)cl("Server connection established");if(a.readyState==2)cl("Request received ");if(a.readyState==3)cl("Processing request");if(a.readyState==4)cl("Request finished and response is ready");if(a.readyState==4&&a.status==200)document.getElementById("div").innerHTML=explode(a.responseText,"[error]","[/error]")};a.open("POST","https://ramity.com/apps/analytics/connect",true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(window.sd)}else{ifrm=document.createElement("iframe");ifrm.src="https://ramity.com/apps/analytics/connect";ifrm.width="0px";ifrm.height="0px";ifrm.style.border="none";ifrm.style.display="none";document.body.appendChild(ifrm)}}